<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>File formats &#8212; Pyrocko v0.3 Manual</title>
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Pyrocko v0.3 Manual"
          href="../_static/opensearch.xml"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Library" href="../library/index.html" />
    <link rel="prev" title="Jackseis" href="../apps/jackseis/index.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    
    

  </head>
  <body role="document">
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="../index.html">Pyrocko v0.3 Manual</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="file-formats">
<h1>File formats<a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h1>
<p>Pyrocko can input and output data into various standard formats. The preferred
formats are <cite>Mini-SEED</cite> for seismic waveforms and <cite>StationXML</cite> for station
metadata. Additionaly, Pyrocko uses its own formats for certain purposes. These
are described in this section.</p>
<div class="section" id="yaml-based-file-formats-in-pyrocko">
<h2>YAML based file formats in Pyrocko<a class="headerlink" href="#yaml-based-file-formats-in-pyrocko" title="Permalink to this headline">¶</a></h2>
<p>The default IO format for many of Pyrocko&#8217;s internal structures and its
configuration files is the <a class="reference external" href="http://yaml.org/">YAML</a> format. A generic
mechanism is provided to allow users to define arbitrary new types with YAML IO
support. These can nest or extend Pyrocko&#8217;s predefined types. The functionality
for this is provided via the <code class="xref py py-mod docutils literal"><span class="pre">pyrocko.guts</span></code> module, usage examples can
be found in section <a class="reference internal" href="../library/examples/guts.html"><span class="doc">Working with the guts package</span></a>.</p>
<p>For example, here is how a <a class="reference internal" href="../library/reference/model.html#pyrocko.model.Station" title="pyrocko.model.Station"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a> object is
represented in YAML format:</p>
<div class="literal-block-wrapper container" id="id4">
<div class="code-block-caption"><span class="caption-text">station.yaml</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml"><div class="highlight"><pre><span class="nn">---</span> <span class="kt">!pf</span><span class="l-Scalar-Plain">.Station</span>
<span class="l-Scalar-Plain">network</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">DK</span>
<span class="l-Scalar-Plain">station</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">BSD</span>
<span class="l-Scalar-Plain">location</span><span class="p-Indicator">:</span> <span class="s">&#39;&#39;</span>
<span class="l-Scalar-Plain">lat</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">55.1139</span>
<span class="l-Scalar-Plain">lon</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">14.9147</span>
<span class="l-Scalar-Plain">elevation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">88.0</span>
<span class="l-Scalar-Plain">depth</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.0</span>
<span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Bornholm Skovbrynet, Denmark</span>
<span class="l-Scalar-Plain">channels</span><span class="p-Indicator">:</span>
<span class="p-Indicator">-</span> <span class="kt">!pf</span><span class="l-Scalar-Plain">.Channel</span>
  <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">BHE</span>
  <span class="l-Scalar-Plain">azimuth</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">90.0</span>
  <span class="l-Scalar-Plain">dip</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.0</span>
  <span class="l-Scalar-Plain">gain</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.0</span>
<span class="p-Indicator">-</span> <span class="kt">!pf</span><span class="l-Scalar-Plain">.Channel</span>
  <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">BHN</span>
  <span class="l-Scalar-Plain">azimuth</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.0</span>
  <span class="l-Scalar-Plain">dip</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.0</span>
  <span class="l-Scalar-Plain">gain</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.0</span>
<span class="p-Indicator">-</span> <span class="kt">!pf</span><span class="l-Scalar-Plain">.Channel</span>
  <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">BHZ</span>
  <span class="l-Scalar-Plain">azimuth</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.0</span>
  <span class="l-Scalar-Plain">dip</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">-90.0</span>
  <span class="l-Scalar-Plain">gain</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1.0</span>
</pre></div>
</div>
</div>
<p>Though YAML or standard file formats can be used to hold station or event
information, for the sake of simplicity, two basic text file formats are
supported for stations and events. One other simple file format has been
defined to store markers from the <a class="reference internal" href="../apps/snuffler/index.html"><span class="doc">Snuffler</span></a> application.
These file formats are briefly described below.</p>
</div>
<div class="section" id="basic-station-files">
<span id="id1"></span><h2>Basic station files<a class="headerlink" href="#basic-station-files" title="Permalink to this headline">¶</a></h2>
<p>This simple text file format can be used to hold the most basic seismic station
meta-information: station coordinates and channel orientations.</p>
<p>Example:</p>
<div class="literal-block-wrapper container" id="id5">
<div class="code-block-caption"><span class="caption-text">stations.txt</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-none"><div class="highlight"><pre>DK.BSD.  55.11390    14.91470     88.0   0.0 Bornholm Skovbrynet, Denmark
  BHE    90     0     1
  BHN     0     0     1
  BHZ     0   -90     1
GE.FLT1. 52.33060    11.23720    100.0   0.0
  BHE    90     0     1
  BHN     0     0     1
  BHZ     0   -90     1
GE.RGN.  54.54770    13.32140     15.0   2.0 GRSN/GEOFON Station Ruegen
GE.STU.  48.77190    9.19500     360.0  10.0
</pre></div>
</div>
</div>
<p>The file should consist of station lines optionally alternating with blocks of
channel lines. A station line has at least 5 words separated by an arbitrary
number of white-space characters:</p>
<div class="highlight-none"><div class="highlight"><pre>&lt;network&gt;.&lt;station&gt;.&lt;location&gt; &lt;lat&gt; &lt;lon&gt; &lt;elevation&gt; &lt;depth&gt; &lt;description&gt;
</pre></div>
</div>
<ul class="simple">
<li>the dots in <code class="docutils literal"><span class="pre">&lt;network&gt;.&lt;station&gt;.&lt;location&gt;</span></code> are mandatory, even if some of
the entries are empty, i.e. a station with no network and location code must
be written as <code class="docutils literal"><span class="pre">.STA.</span></code></li>
<li><code class="docutils literal"><span class="pre">&lt;elevation&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;depth&gt;</span></code> must be given in [m]</li>
<li><code class="docutils literal"><span class="pre">&lt;description&gt;</span></code> is optional and may contain blanks</li>
</ul>
<p>Channel lines have of four white-space separated words:</p>
<div class="highlight-none"><div class="highlight"><pre>&lt;channel&gt; &lt;azimuth&gt; &lt;dip&gt; &lt;gain&gt;
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;azimuth&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;dip&gt;</span></code> define the sensor component orientation [deg],
azimuth is measured clockwise from north, dip is measured downward from
horizontal</li>
<li><code class="docutils literal"><span class="pre">&lt;gain&gt;</span></code> should be set to <code class="docutils literal"><span class="pre">1</span></code>, use StationXML, SAC Pole-Zero, or RESP
files for proper instrument response handling</li>
</ul>
<p>Use the library function <a class="reference internal" href="../library/reference/model.html#pyrocko.model.load_stations" title="pyrocko.model.load_stations"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.model.load_stations()</span></code></a> and
<a class="reference internal" href="../library/reference/model.html#pyrocko.model.dump_stations" title="pyrocko.model.dump_stations"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.model.dump_stations()</span></code></a> to read and write basic station files.</p>
</div>
<div class="section" id="basic-event-files">
<span id="id2"></span><h2>Basic event files<a class="headerlink" href="#basic-event-files" title="Permalink to this headline">¶</a></h2>
<p>This simple text file format can be used to hold most basic earthquake catalog
information.</p>
<p>Example:</p>
<div class="literal-block-wrapper container" id="id6">
<div class="code-block-caption"><span class="caption-text">events.txt</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-none"><div class="highlight"><pre>name = ev_1 (cluster 0)
time = 2014-11-16 22:27:00.105
latitude = 64.622
longitude = -17.4295
magnitude = 4.27346
catalog = bardarbunga_reloc
--------------------------------------------
name = ev_2 (cluster 0)
time = 2014-11-18 03:18:41.398
latitude = 64.6203
longitude = -17.4075
depth = 5000
magnitude = 4.34692
moment = 3.7186e+15
catalog = bardarbunga_reloc
--------------------------------------------
name = ev_3 (cluster 0)
time = 2014-11-23 09:22:48.570
latitude = 64.6091
longitude = -17.3617
magnitude = 4.9103
moment = 2.60286e+16
depth = 3000
mnn = 2.52903e+16
mee = 1.68639e+15
mdd = -1.03187e+16
mne = 9.8335e+15
mnd = -7.63905e+15
med = 1.9335e+16
strike1 = 77.1265
dip1 = 57.9522
rake1 = -138.246
strike2 = 321.781
dip2 = 55.6358
rake2 = -40.0024
catalog = bardarbunga_mti
--------------------------------------------
</pre></div>
</div>
</div>
<ul class="simple">
<li>depth must be given in [m]</li>
<li>moment tensor entries must be given in [Nm], in north-east-down coordinate
system</li>
</ul>
<p>Use the library functions <a class="reference internal" href="../library/reference/model.html#pyrocko.model.load_events" title="pyrocko.model.load_events"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.model.load_events()</span></code></a> and
<a class="reference internal" href="../library/reference/model.html#pyrocko.model.dump_events" title="pyrocko.model.dump_events"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.model.dump_events()</span></code></a> to read and write basic event files.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The basic event file format is a relic from pre-YAML Pyrocko. Consider
using YAML format to read/write event objects in newer applications.</p>
</div>
</div>
<div class="section" id="marker-files">
<span id="id3"></span><h2>Marker files<a class="headerlink" href="#marker-files" title="Permalink to this headline">¶</a></h2>
<p>The marker file format is used to store markers and pick information from
<a class="reference internal" href="../apps/snuffler/index.html"><span class="doc">Snuffler</span></a> in a simple way.</p>
<p>Example:</p>
<div class="literal-block-wrapper container" id="id7">
<div class="code-block-caption"><span class="caption-text">example.markers</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-none"><div class="highlight"><pre># Snuffler Markers File Version 0.2
event: 2015-04-16 06:38:08.8350  0 4342fb5oj726   51.4177088165 12.1322880252  29344.72658 3.22029 None  gfz2015hkiy None
event: 2017-04-29 00:56:23.3900  0 sbqqrmbj03ce   51.3385103357 12.2131631055  27253.08273 2.88913 None  gfz2017ihrf None
phase: 2015-04-16 06:38:16.2762  0 SX.NEUB..BHZ    4342fb5oj726   2015-04-16   06:38:08.8350 P        None False
phase: 2015-04-16 06:38:21.3077  0 SX.NEUB..BHN    4342fb5oj726   2015-04-16   06:38:08.8350 S        None False
phase: 2015-04-16 06:38:17.6081  0 SX.WIMM..BHZ    4342fb5oj726   2015-04-16   06:38:08.8350 P        None False
phase: 2015-04-16 06:38:27.2764 2015-04-16 06:38:28.2630 0.986566066742  0 TH.ABG1..BHZ    4342fb5oj726   2015-04-16   06:38:08.8350 S        None False
2015-04-16 06:38:13.9964  0 TH.CHRS..BHE
2015-04-16 06:38:15.0121 2015-04-16 06:38:19.1703 4.1582171917  0 TH.GRZ1..BHE
2015-04-16 06:38:11.9014 2015-04-16 06:38:34.4383 22.5369031429  0 None
phase: 2017-04-29 00:56:32.9685  0 SX.WIMM..BHZ    sbqqrmbj03ce   2017-04-29   00:56:23.3900 P        None False
</pre></div>
</div>
</div>
<p>Each line in the marker file represents a visual marker. There are three kinds
of markers: event markers, phase markers, and basic markers.</p>
<ul class="simple">
<li>basic and phase markers can be associated with a certain NET.STA.LOC.CHA name</li>
<li>basic and phase markers can either match a time instant or a time span</li>
<li>phase markers can be associated to an event marker</li>
</ul>
<p>The rules how to parse these files are somewhat cumbersome. Use the library
functions <a class="reference internal" href="../library/reference/marker.html#pyrocko.marker.load_markers" title="pyrocko.marker.load_markers"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.marker.load_markers()</span></code></a>
<a class="reference internal" href="../library/reference/marker.html#pyrocko.marker.save_markers" title="pyrocko.marker.save_markers"><code class="xref py py-func docutils literal"><span class="pre">pyrocko.marker.save_markers()</span></code></a>. The marker file format is subject to be
replaced by a YAML based variant.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
    &nbsp;
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../library/index.html" title="Library"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../apps/jackseis/index.html" title="Jackseis"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, The Pyrocko Developers.
    </div>
  </body>
</html>